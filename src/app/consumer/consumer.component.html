<div class="consumer-container">
  <div class="section-title">
    <h2>Browse and Interact with Images</h2>
  </div>

  <!-- Search Bar for Consumer to search through images -->
  <div class="search-bar">
    <input type="text" [(ngModel)]="searchQuery" placeholder="Search images..." (input)="searchPhotos()">
  </div>

  <!-- Display images in a grid -->
  <div class="photo-grid">
    <div class="photo-card" *ngFor="let photo of photos">
      <div class="card-content">
        <img class="photo-img" [src]="photo.mediaUrl" [alt]="photo.title" />
      </div>
      <div class="photo-info">
        <h4>{{ photo.title }}</h4>
        <p>{{ photo.caption }}</p>
        <p><strong>Location:</strong> {{ photo.location }}</p>

        <!-- Rating Component -->
        <div class="rating">
          <i *ngFor="let star of [1, 2, 3, 4, 5]" 
             class="fa" 
             [ngClass]="{'fa-star': star <= photo.rating, 'fa-star-o': star > photo.rating}"
             (click)="rateImage(photo.id, star)"></i>
        </div>
      </div>

      <!-- Comments Section -->
      <div class="comments-section">
        <h5>Comments</h5>
        <ul>
          <li *ngFor="let comment of photo.comments">
            <strong>{{ comment.username }}:</strong> {{ comment.text }}
          </li>
        </ul>

        <!-- Add Comment -->
        <textarea [(ngModel)]="newComment" placeholder="Add a comment..."></textarea>
        <button (click)="addComment(photo.id)">Post Comment</button>
      </div>
    </div>
  </div>

  <!-- No photos message (if applicable) -->
  <div *ngIf="photos.length === 0" class="no-photos-message">
    No photos available.
  </div>
</div>
